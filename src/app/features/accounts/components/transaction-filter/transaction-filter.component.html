<div class="bg-dark-800 rounded-lg shadow-lg border border-dark-700 overflow-hidden">
  <!-- Filter Header -->
  <div class="px-6 py-4 flex items-center justify-between cursor-pointer hover:bg-dark-700 transition-colors" (click)="toggleFilter()">
    <div class="flex items-center gap-3">
      <svg class="w-5 h-5 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
      </svg>
      <h3 class="text-white font-semibold">Filter Transactions</h3>
      <span *ngIf="hasActiveFilters()" class="px-2 py-1 bg-primary-600 text-white text-xs font-medium rounded-full">
        Active
      </span>
    </div>
    <svg 
      class="w-5 h-5 text-gray-400 transition-transform"
      [class.rotate-180]="isExpanded"
      fill="none" 
      stroke="currentColor" 
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </div>

  <!-- Filter Content -->
  <div *ngIf="isExpanded" class="px-6 py-4 border-t border-dark-700">
    <form [formGroup]="filterForm">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
        <!-- Start Date -->
        <div>
          <label for="startDate" class="block text-sm font-medium text-gray-300 mb-2">
            Start Date
          </label>
          <input
            type="date"
            id="startDate"
            formControlName="startDate"
            class="w-full px-3 py-2 bg-dark-700 border border-dark-600 text-white text-sm rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all"
          />
        </div>

        <!-- End Date -->
        <div>
          <label for="endDate" class="block text-sm font-medium text-gray-300 mb-2">
            End Date
          </label>
          <input
            type="date"
            id="endDate"
            formControlName="endDate"
            class="w-full px-3 py-2 bg-dark-700 border border-dark-600 text-white text-sm rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all"
          />
        </div>

        <!-- Transaction Type -->
        <div>
          <label for="transactionType" class="block text-sm font-medium text-gray-300 mb-2">
            Transaction Type
          </label>
          <select
            id="transactionType"
            formControlName="transactionType"
            class="w-full px-3 py-2 bg-dark-700 border border-dark-600 text-white text-sm rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all"
          >
            <option value="all">All Transactions</option>
            <option [value]="TransactionType.Charge">Charges Only</option>
            <option [value]="TransactionType.Payment">Payments Only</option>
          </select>
        </div>
      </div>

      <!-- Clear Filter Button -->
      <div class="flex justify-end">
        <button
          type="button"
          (click)="clearFilter()"
          [disabled]="!hasActiveFilters()"
          class="px-4 py-2 bg-dark-700 hover:bg-dark-600 disabled:bg-dark-800 disabled:text-gray-600 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-dark-500"
        >
          Clear Filters
        </button>
      </div>
    </form>
  </div>
</div>
